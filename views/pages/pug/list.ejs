<div id="list" v-cloak>

  <h1>Pugs</h1>


<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th>#</th>
      <th>Date</th>
      <th>Name</th>
      <th>Text</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
      <tr v-for="pug in pugs">
        <td>{{ pug.id }}</td>
        <td>{{ pug.date }}</td>

        <td v-if="editingpug.id != pug.id">{{ pug.name }}</td>
        <td v-if="editingpug.id != pug.id">{{ pug.text }}</td>
        <td v-if="editingpug.id != pug.id"><a href="#" @click="deletePug(pug)" class="btn btn-danger">x</a><a href="#" @click="editPug(pug)" class="btn btn-info">Edit</a></td>

        <td v-if="editingpug.id == pug.id"><input type="text" v-model="editingpug.name" class="form-control" /></td>
        <td v-if="editingpug.id == pug.id"><textarea v-model="editingpug.text" class="form-control"></textarea></td>
        <td v-if="editingpug.id == pug.id"><a href="#" @click="cancelEditPug(pug)" class="btn btn-default">Cancel</a><a href="#" @click="saveEditingPug(pug)" class="btn btn-primary">Save</a></td>
      </tr>
  </tbody>
</table>

<a href="#" class="btn btn-primary" @click="clickShowNewPugModal">Add new pug</a>


      <form id="formadd" class="form-horizontal" action="/pug/add" @submit.prevent="submitAddNewPug" ref="formadd">
  <modal class="example-modal" v-if="addnewpugmodal===true" @close="clickCloseNewPugModal()">
    <div class="modal-header">
      <h2 class="modal-title">Add new pug {{ addnewpugmodal }}</h2>
      <hr/>
    </div>
    <div class="modal-body">


<div class="form-horizontal">
        <div class="form-group">
          <label class="col-md-2" class="control-label">Name</label>
          <div class="col-md-10">
            <input type="text" class="form-control" v-model="addingpug.name" name="name" />
          </div>
        </div>

          <div class="form-group">
            <label class="col-md-2" class="control-label">Text</label>
            <div class="col-md-10">
              <textarea type="text" v-model="addingpug.text" class="form-control" name="text"></textarea>
            </div>
          </div>

          <p style="display:none;">
            <input type="submit" value="Submit" id="btnSubmitAdd" />
          </p>
</div>
    </div>
    <div class="modal-footer flex-row-reverse justify-content-between">
      <button type="submit" class="btn btn-success">Add</button>
      <button type="button" data-dismiss="modal" class="btn btn-default" @click="clickCloseNewPugModal">Cancel</button>
    </div>
  </modal>
          </form>


</div>




<%- /* Expose server-rendered data as window.SAILS_LOCALS :: */ exposeLocalsToBrowser() %>
